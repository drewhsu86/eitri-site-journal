{"ast":null,"code":"var _jsxFileName = \"/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/Projects/EditProject.jsx\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { getProject, updateProject, deleteProject } from '../../services/apiCalls';\nconst confirm = window.confirm;\n\nclass EditProject extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = (e, stateName) => {\n      // sets e.target.value to whatever state is named\n      this.setState({\n        [stateName]: e.target.value\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n\n      if (!this.state.inputName) {\n        this.setState({\n          errMsg: 'Project name is required!'\n        });\n      } else {\n        try {\n          const response = await updateProject(this.props.match.params.id, {\n            name: this.state.inputName,\n            location: this.state.inputLocation,\n            description: this.state.inputDescription\n          });\n          this.props.history.push(`/projects/${this.props.match.params.id}`);\n        } catch (error) {\n          console.log(error.message);\n          this.setState({\n            errMsg: error.message\n          });\n        }\n      }\n    };\n\n    this.handleDelete = async () => {\n      const confirm1 = confirm('Do you want to delete this project? WARNING: PERMANENT!!!');\n\n      if (confirm1) {\n        const confirm2 = confirm('FINAL WARNING: DELETION PERMANENT! PROCEED?!?');\n\n        if (confirm2) {\n          try {\n            const response = await deleteProject(this.props.match.params.id);\n            console.log(response);\n            this.props.history.push('/');\n          } catch (error) {\n            console.log(error.message);\n            this.setState({\n              errMsg: error.message\n            });\n          }\n        }\n      }\n    };\n\n    this.state = {\n      inputName: '',\n      inputLocation: '',\n      inputDescription: '',\n      errMsg: ''\n    };\n  } // name required, location and description not required \n\n\n  async componentDidMount() {\n    try {\n      const response = await getProject(this.props.match.params.id);\n      this.setState({\n        inputName: response.name,\n        inputLocation: response.location,\n        inputDescription: response.description\n      });\n    } catch (error) {\n      console.log(error.message);\n      this.setState({\n        errMsg: error.message\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"UpdateForm\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"projectName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, \"Project Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.inputName,\n      onChange: e => this.handleChange(e, 'inputName'),\n      name: \"projectName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"location\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, \"Location\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.inputLocation,\n      onChange: e => this.handleChange(e, 'inputLocation'),\n      name: \"location\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.inputDescription,\n      onChange: e => this.handleChange(e, 'inputDescription'),\n      name: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, \" Delete this project?  WARNING: PERMANENT!!!\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"deleteButton\",\n      onClick: this.handleDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, \"Delete (PERMANENT)\"));\n  }\n\n}\n\nexport default withRouter(EditProject);","map":{"version":3,"sources":["/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/Projects/EditProject.jsx"],"names":["React","Component","withRouter","getProject","updateProject","deleteProject","confirm","window","EditProject","constructor","props","handleChange","e","stateName","setState","target","value","handleSubmit","preventDefault","state","inputName","errMsg","response","match","params","id","name","location","inputLocation","description","inputDescription","history","push","error","console","log","message","handleDelete","confirm1","confirm2","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { getProject, updateProject, deleteProject } from '../../services/apiCalls'\n\nconst confirm = window.confirm\n\nclass EditProject extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      inputName: '',\n      inputLocation: '',\n      inputDescription: '',\n      errMsg: ''\n    }\n  }\n\n  // name required, location and description not required \n  async componentDidMount() {\n    try {\n      const response = await getProject(this.props.match.params.id)\n      this.setState({\n        inputName: response.name,\n        inputLocation: response.location,\n        inputDescription: response.description \n      })\n    } catch (error) {\n      console.log(error.message)\n      this.setState({\n        errMsg: error.message \n      })\n    }\n  }\n\n  handleChange = (e, stateName) => {\n    // sets e.target.value to whatever state is named\n    this.setState({\n      [stateName]: e.target.value \n    })\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n\n    if (!this.state.inputName) {\n      this.setState({\n        errMsg: 'Project name is required!'\n      })\n    } else {\n      try {\n        const response = await updateProject(this.props.match.params.id,{\n          name: this.state.inputName,\n          location: this.state.inputLocation,\n          description: this.state.inputDescription \n        })\n\n        this.props.history.push(`/projects/${this.props.match.params.id}`)\n      } catch (error) {\n        console.log(error.message)\n        this.setState({\n          errMsg: error.message \n        })\n      }\n    }\n  }\n\n  handleDelete = async () => {\n    const confirm1 = confirm('Do you want to delete this project? WARNING: PERMANENT!!!')\n    \n    if (confirm1) {\n      const confirm2 = confirm('FINAL WARNING: DELETION PERMANENT! PROCEED?!?')\n\n      if (confirm2) {\n        try {\n          const response = await deleteProject(this.props.match.params.id)\n\n          console.log(response)\n\n          this.props.history.push('/')\n        } catch (error) {\n          console.log(error.message) \n          this.setState({\n            errMsg: error.message \n          })\n        }\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Page\">\n        <form className=\"UpdateForm\" onSubmit={this.handleSubmit}>\n          <label htmlFor=\"projectName\">Project Name</label>\n          <input type=\"text\" value={this.state.inputName} onChange={e => this.handleChange(e, 'inputName')} name=\"projectName\" />\n\n          <label htmlFor=\"location\">Location</label>\n          <input type=\"text\" value={this.state.inputLocation} onChange={e => this.handleChange(e, 'inputLocation')} name=\"location\" />\n\n          <label htmlFor=\"description\">Description</label>\n          <input type=\"text\" value={this.state.inputDescription} onChange={e => this.handleChange(e, 'inputDescription')} name=\"description\" />\n\n          <button>Submit</button>\n        </form>\n\n        <h1> Delete this project?  WARNING: PERMANENT!!!</h1>\n        <button className=\"deleteButton\" onClick={this.handleDelete}>Delete (PERMANENT)</button>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(EditProject)"]},"metadata":{},"sourceType":"module"}