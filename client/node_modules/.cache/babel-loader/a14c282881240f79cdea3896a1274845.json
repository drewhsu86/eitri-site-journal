{"ast":null,"code":"var _jsxFileName = \"/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/Entries/ViewEntry.jsx\";\nimport React, { Component } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { getEntry, removeImage } from '../../services/apiCalls';\nimport AddImage from './AddImage';\n\nclass ViewEntry extends Component {\n  constructor(props) {\n    super(props);\n\n    this.initialize = async () => {\n      try {\n        const response = await getEntry(this.props.match.params.id);\n        this.setState({\n          entry: response,\n          addImg: false\n        });\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n\n    this.toggleAddImg = () => {\n      const addImg = !this.state.addImg;\n      this.setState({\n        addImg\n      });\n    };\n\n    this.handleRemoveImg = async (id, ind) => {\n      const removeConfirm = window.confirm('Really delete image? WARNING: PERMANENT!!!');\n\n      if (removeConfirm) {\n        try {\n          await removeImage(id, ind);\n          await this.initialize();\n        } catch (error) {\n          console.log(error.message);\n        }\n      }\n    };\n\n    this.state = {\n      entry: null,\n      addImg: false\n    };\n  }\n\n  componentDidMount() {\n    this.initialize();\n  }\n\n  render() {\n    const entry = this.state.entry;\n\n    if (!entry) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Page\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      }, \"Entry not found!\"));\n    } else {\n      const project = entry.project;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Page\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, \"Entry Notes\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }, entry.notes), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }\n      }, \"Project: \", project.name), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      }, \"Entry Created: \", entry.createdAt.slice(0, 10)), /*#__PURE__*/React.createElement(Link, {\n        to: `/projects/${entry.project._id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }\n      }, \"Back To Project\")), this.props.userID === project.user ? /*#__PURE__*/React.createElement(Link, {\n        to: `/entries/${this.props.match.params.id}/editentry`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 77\n        }\n      }, \"Edit Entry\")) : null, this.props.userID === project.user ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.toggleAddImg,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }\n      }, !this.state.addImg ? 'Add An Image' : 'Hide Image Adder'), !this.state.addImg ? null : /*#__PURE__*/React.createElement(AddImage, {\n        entryID: this.props.match.params.id,\n        entryReset: this.initialize,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }\n      }), \" \") : null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"imgGrid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }\n      }, entry.images.map((image, ind) => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"imgGridItem\",\n          key: ind,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: image,\n          target: \"_blank\",\n          className: \"ImagePreview\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: image,\n          alt: `This is a link to an image.`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }\n        })), /*#__PURE__*/React.createElement(\"button\", {\n          className: \"ImageRemoveButton\",\n          onClick: () => this.handleRemoveImg(this.props.match.params.id, ind),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }\n        }, \"Delete Image?\"));\n      })));\n    }\n  }\n\n}\n\nexport default withRouter(ViewEntry);","map":{"version":3,"sources":["/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/Entries/ViewEntry.jsx"],"names":["React","Component","withRouter","Link","getEntry","removeImage","AddImage","ViewEntry","constructor","props","initialize","response","match","params","id","setState","entry","addImg","error","console","log","message","toggleAddImg","state","handleRemoveImg","ind","removeConfirm","window","confirm","componentDidMount","render","project","notes","name","createdAt","slice","_id","userID","user","images","map","image"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport { getEntry, removeImage } from '../../services/apiCalls'\nimport AddImage from './AddImage'\n\nclass ViewEntry extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      entry: null,\n      addImg: false \n    }\n  }\n\n  componentDidMount() {\n    this.initialize()\n  }\n\n  initialize = async () => {\n    try {\n      const response = await getEntry(this.props.match.params.id)\n\n      this.setState({\n        entry: response,\n        addImg: false \n      })\n    } catch (error) {\n      console.log(error.message)\n    }\n  }\n\n  toggleAddImg = () => {\n    const addImg = !this.state.addImg\n    this.setState({\n      addImg\n    })\n  }\n\n  handleRemoveImg = async (id, ind) => {\n    const removeConfirm = window.confirm('Really delete image? WARNING: PERMANENT!!!')\n    if (removeConfirm) {\n      try {\n        await removeImage(id, ind)\n        await this.initialize()\n      } catch (error) {\n        console.log(error.message)\n      }\n    }\n  }\n\n  render() {\n    const entry = this.state.entry \n    if (!entry) {\n      return (\n        <div className=\"Page\">\n          <h1>Entry not found!</h1>\n        </div>\n      )\n    } else {\n      const project = entry.project \n      return (\n        <div className=\"Page\">\n          <h1>Entry Notes</h1>\n\n          <p>{entry.notes}</p>\n\n          <h4>Project: {project.name}</h4>\n\n          <h4>Entry Created: {entry.createdAt.slice(0,10)}</h4>\n          \n          <Link to={`/projects/${entry.project._id}`}>\n            <button>Back To Project</button>\n          </Link>\n\n          {\n            this.props.userID === project.user ? (\n              <Link to={`/entries/${this.props.match.params.id}/editentry`}><button>Edit Entry</button></Link>\n            ) : null \n          }\n          \n          {this.props.userID === project.user ? <div>\n            <button onClick={this.toggleAddImg}>{!this.state.addImg ? 'Add An Image' : 'Hide Image Adder'}</button>\n            {\n              !this.state.addImg ? null : (\n                <AddImage\n                  entryID={this.props.match.params.id}\n                  entryReset={this.initialize}\n                />\n              )\n            } </div> : null \n          }\n\n          <div className=\"imgGrid\">\n            {\n              entry.images.map((image, ind) => {\n                return (<div className=\"imgGridItem\" key={ind}>\n                  \n                    <a href={image} target=\"_blank\" className=\"ImagePreview\">\n                    <img\n                      src={image} alt={`This is a link to an image.`} />\n                    </a>\n                    <button\n                      className=\"ImageRemoveButton\"\n                      onClick={() => this.handleRemoveImg(this.props.match.params.id, ind)}\n                    >\n                      Delete Image?\n                    </button>\n                  \n                </div>)\n              })\n            }\n          </div>\n        </div>\n      )\n    }\n  }\n}\n\nexport default withRouter(ViewEntry)"]},"metadata":{},"sourceType":"module"}