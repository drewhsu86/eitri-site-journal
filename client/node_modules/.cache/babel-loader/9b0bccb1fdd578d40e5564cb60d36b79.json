{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter}from'react-router-dom';import{createEntry}from'../../services/apiCalls';var AddEntry=/*#__PURE__*/function(_Component){_inherits(AddEntry,_Component);var _super=_createSuper(AddEntry);function AddEntry(props){var _this;_classCallCheck(this,AddEntry);_this=_super.call(this,props);_this.handleChange=function(e,stateName){// sets e.target.value to whatever state is named\n_this.setState(_defineProperty({},stateName,e.target.value));};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(_this.state.inputNotes){_context.next=5;break;}_this.setState({errMsg:'Entry name is required!'});_context.next=16;break;case 5:_context.prev=5;_context.next=8;return createEntry({notes:_this.state.inputNotes,project:_this.props.match.params.id});case 8:response=_context.sent;_this.props.history.push(\"/entries/\".concat(response._id));_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](5);console.log(_context.t0.message);_this.setState({errMsg:_context.t0.message});case 16:case\"end\":return _context.stop();}}},_callee,null,[[5,12]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={inputNotes:'',errMsg:''};return _this;}_createClass(AddEntry,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"Page\"},/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Write a note for this entry\"),/*#__PURE__*/React.createElement(\"form\",{className:\"UpdateForm\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"entryName\"},\"Entry Notes\"),/*#__PURE__*/React.createElement(\"textarea\",{value:this.state.inputNotes,onChange:function onChange(e){return _this2.handleChange(e,'inputNotes');},name:\"entryName\"}),/*#__PURE__*/React.createElement(\"button\",null,\"Create Entry\"))));}}]);return AddEntry;}(Component);export default withRouter(AddEntry);","map":{"version":3,"sources":["/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/Entries/AddEntry.jsx"],"names":["React","Component","withRouter","createEntry","AddEntry","props","handleChange","e","stateName","setState","target","value","handleSubmit","preventDefault","state","inputNotes","errMsg","notes","project","match","params","id","response","history","push","_id","console","log","message"],"mappings":"ssCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,WAAT,KAA4B,yBAA5B,C,GAEMC,CAAAA,Q,oGACJ,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EADiB,MASnBC,YATmB,CASJ,SAACC,CAAD,CAAIC,SAAJ,CAAkB,CAC/B;AACA,MAAKC,QAAL,oBACGD,SADH,CACeD,CAAC,CAACG,MAAF,CAASC,KADxB,GAGD,CAdkB,OAgBnBC,YAhBmB,0FAgBJ,iBAAOL,CAAP,+HACbA,CAAC,CAACM,cAAF,GADa,GAGR,MAAKC,KAAL,CAAWC,UAHH,yBAIX,MAAKN,QAAL,CAAc,CACZO,MAAM,CAAE,yBADI,CAAd,EAJW,oEAScb,CAAAA,WAAW,CAAC,CACjCc,KAAK,CAAE,MAAKH,KAAL,CAAWC,UADe,CAEjCG,OAAO,CAAE,MAAKb,KAAL,CAAWc,KAAX,CAAiBC,MAAjB,CAAwBC,EAFA,CAAD,CATzB,QASHC,QATG,eAcT,MAAKjB,KAAL,CAAWkB,OAAX,CAAmBC,IAAnB,oBAAoCF,QAAQ,CAACG,GAA7C,GAdS,iFAgBTC,OAAO,CAACC,GAAR,CAAY,YAAMC,OAAlB,EACA,MAAKnB,QAAL,CAAc,CACZO,MAAM,CAAE,YAAMY,OADF,CAAd,EAjBS,qEAhBI,+DAGjB,MAAKd,KAAL,CAAa,CACXC,UAAU,CAAE,EADD,CAEXC,MAAM,CAAE,EAFG,CAAb,CAHiB,aAOlB,C,4DAiCQ,iBACP,mBACE,2BAAK,SAAS,CAAC,MAAf,eACE,gDACE,4DADF,cAEE,4BAAM,SAAS,CAAC,YAAhB,CAA6B,QAAQ,CAAE,KAAKJ,YAA5C,eACA,6BAAO,OAAO,CAAC,WAAf,gBADA,cAEA,gCAAU,KAAK,CAAE,KAAKE,KAAL,CAAWC,UAA5B,CAAwC,QAAQ,CAAE,kBAAAR,CAAC,QAAI,CAAA,MAAI,CAACD,YAAL,CAAkBC,CAAlB,CAAqB,YAArB,CAAJ,EAAnD,CAA2F,IAAI,CAAC,WAAhG,EAFA,cAIA,iDAJA,CAFF,CADF,CADF,CAaD,C,sBAvDoBN,S,EA0DvB,cAAeC,CAAAA,UAAU,CAACE,QAAD,CAAzB","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { createEntry } from '../../services/apiCalls'\n\nclass AddEntry extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      inputNotes: '',\n      errMsg: ''\n    }\n  }\n\n  handleChange = (e, stateName) => {\n    // sets e.target.value to whatever state is named\n    this.setState({\n      [stateName]: e.target.value \n    })\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n\n    if (!this.state.inputNotes) {\n      this.setState({\n        errMsg: 'Entry name is required!'\n      })\n    } else {\n      try {\n        const response = await createEntry({\n          notes: this.state.inputNotes,\n          project: this.props.match.params.id \n        })\n\n        this.props.history.push(`/entries/${response._id}`)\n      } catch (error) {\n        console.log(error.message)\n        this.setState({\n          errMsg: error.message \n        })\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Page\">\n        <section>\n          <h1>Write a note for this entry</h1>\n          <form className=\"UpdateForm\" onSubmit={this.handleSubmit}>\n          <label htmlFor=\"entryName\">Entry Notes</label>\n          <textarea value={this.state.inputNotes} onChange={e => this.handleChange(e, 'inputNotes')} name=\"entryName\" />\n\n          <button>Create Entry</button>\n          </form>\n        </section>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(AddEntry)"]},"metadata":{},"sourceType":"module"}