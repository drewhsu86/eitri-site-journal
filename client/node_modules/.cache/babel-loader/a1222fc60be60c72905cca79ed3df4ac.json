{"ast":null,"code":"var _jsxFileName = \"/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/User/Signup.jsx\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { signup } from '../../services/apiUsers';\nexport default class Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = (e, stateName) => {\n      // sets e.target.value to whatever state is named\n      this.setState({\n        [stateName]: e.target.value\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault(); // submit using the username and password in the form \n      // only allow submit if password is length 6 or greater \n\n      if (this.state.inputPassword.length >= 6 && this.state.inputUsername) {\n        try {\n          const response = await signup({\n            username: this.state.inputUsername,\n            password: this.state.inputPassword\n          });\n          console.log(response);\n          this.setState({\n            username: '',\n            password: ''\n          });\n        } catch (error) {\n          console.log(error.message);\n          this.setState({\n            errMsg: error.message\n          });\n        }\n      } else {\n        this.setState({\n          errMsg: 'Password needs to be at least 6 characters.'\n        });\n      }\n    };\n\n    this.state = {\n      inputUsername: '',\n      inputPassword: '',\n      errMsg: ''\n    };\n  } // password needs at least 6 characters \n  // username and password each have a handleChange and are tied to the value of the input \n\n\n  render() {\n    if (localStorage.getItem('token')) {\n      this.props.setUser();\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/dashboard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 14\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Signup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        className: \"SignupForm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }\n      }, \"Register An Account\"), this.state.errMsg ? /*#__PURE__*/React.createElement(\"p\", {\n        className: \"error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 34\n        }\n      }, this.state.errMsg) : null, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"username\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.inputUsername,\n        onChange: e => this.handleChange(e, 'inputUsername'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.inputPassword,\n        onChange: e => this.handleChange(e, 'inputPassword'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }\n      }, \" Submit \")));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/User/Signup.jsx"],"names":["React","Component","Redirect","signup","Signup","constructor","props","handleChange","e","stateName","setState","target","value","handleSubmit","preventDefault","state","inputPassword","length","inputUsername","response","username","password","console","log","error","message","errMsg","render","localStorage","getItem","setUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { signup } from '../../services/apiUsers'\n\nexport default class Signup extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      inputUsername: '',\n      inputPassword: '',\n      errMsg: ''\n    }\n  }\n\n  // password needs at least 6 characters \n  // username and password each have a handleChange and are tied to the value of the input \n\n  handleChange = (e, stateName) => {\n    // sets e.target.value to whatever state is named\n    this.setState({\n      [stateName]: e.target.value \n    })\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n    // submit using the username and password in the form \n\n    // only allow submit if password is length 6 or greater \n    if (this.state.inputPassword.length >= 6 && this.state.inputUsername) {\n      try {\n        const response = await signup({\n          username: this.state.inputUsername,\n          password: this.state.inputPassword\n        })\n\n        console.log(response)\n        this.setState({\n          username: '',\n          password: ''\n        })\n      } catch (error) {\n        console.log(error.message)\n        this.setState({\n          errMsg: error.message \n        })\n      }\n    } else {\n      this.setState({\n        errMsg: 'Password needs to be at least 6 characters.'\n      })\n    }\n  }\n\n  render() {\n    if (localStorage.getItem('token')) {\n      this.props.setUser()\n      return <Redirect to=\"/dashboard\" />\n    } else {\n      return (\n        <div className=\"Signup\">\n          <form className=\"SignupForm\">\n            <h1>Register An Account</h1>\n            {this.state.errMsg ? <p className=\"error\">{this.state.errMsg}</p> : null}\n\n            <label htmlFor=\"username\">Username</label>\n            <input type=\"text\" value={this.state.inputUsername} onChange={e => this.handleChange(e, 'inputUsername')} />\n\n            <label htmlFor=\"password\">Password</label>\n            <input type=\"text\" value={this.state.inputPassword} onChange={e => this.handleChange(e, 'inputPassword')} />\n\n            <button> Submit </button>\n          </form>\n        </div>\n      )\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}