{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter,Link}from'react-router-dom';import{getProjects}from'../../services/apiCalls';var Index=/*#__PURE__*/function(_Component){_inherits(Index,_Component);var _super=_createSuper(Index);function Index(props){var _this;_classCallCheck(this,Index);_this=_super.call(this,props);_this.state={user:null,projects:null,errMsg:''};return _this;}_createClass(Index,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var userID,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:userID=this.props.match.params.id;if(!userID){_context.next=13;break;}_context.prev=2;_context.next=5;return getProjects(userID);case 5:response=_context.sent;this.setState({user:response,projects:response.projects});_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.log(_context.t0.message);this.setState({errMsg:_context.t0.message});case 13:case\"end\":return _context.stop();}}},_callee,this,[[2,9]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){if(this.state.projects){return/*#__PURE__*/React.createElement(\"div\",{className:\"Page\"},this.props.userID===this.props.match.params.id?/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Welcome, \",this.props.username,\"!\"),/*#__PURE__*/React.createElement(\"p\",null,\"Here, you can add project sites that you are working on. Then go to these project sites and add journal entries. You can even add images to your journal entries!\")):/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Welcome to \",this.state.user.username,\"'s projects list!\"),/*#__PURE__*/React.createElement(\"p\",null,\"Here, you can see which projects this user is currently writing entries for and view them in the list below.\")),this.props.userID===this.props.match.params.id?/*#__PURE__*/React.createElement(Link,{to:\"/addProject\"},/*#__PURE__*/React.createElement(\"button\",null,\"Add A Project\")):null,/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{className:\"listTitle\"},\"List Of \",this.state.user.username,\"'s Project\"),this.state.projects.length>0?this.state.projects.map(function(proj,ind){return/*#__PURE__*/React.createElement(\"li\",{key:ind},/*#__PURE__*/React.createElement(Link,{to:\"/projects/\".concat(proj._id)},/*#__PURE__*/React.createElement(\"div\",{className:\"toProject\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Go to Project: \"),/*#__PURE__*/React.createElement(\"p\",null,proj.name))));}):/*#__PURE__*/React.createElement(\"h3\",null,\"You have no projects yet.\")));}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"Page\"},/*#__PURE__*/React.createElement(\"h1\",null,\"User Info not found\"));}}}]);return Index;}(Component);export default withRouter(Index);","map":{"version":3,"sources":["/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/Projects/index.js"],"names":["React","Component","withRouter","Link","getProjects","Index","props","state","user","projects","errMsg","userID","match","params","id","response","setState","console","log","message","username","length","map","proj","ind","_id","name"],"mappings":"mhCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,CAAqBC,IAArB,KAAiC,kBAAjC,CACA,OAASC,WAAT,KAA4B,yBAA5B,C,GAEMC,CAAAA,K,8FACJ,eAAYC,KAAZ,CAAmB,uCACjB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAE,IADK,CAEXC,QAAQ,CAAE,IAFC,CAGXC,MAAM,CAAE,EAHG,CAAb,CAHiB,aAQlB,C,oSAGOC,M,CAAS,KAAKL,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBC,E,KACnCH,M,gEAEuBP,CAAAA,WAAW,CAACO,MAAD,C,QAA5BI,Q,eACN,KAAKC,QAAL,CAAc,CACZR,IAAI,CAAEO,QADM,CAEZN,QAAQ,CAAEM,QAAQ,CAACN,QAFP,CAAd,E,+EAKAQ,OAAO,CAACC,GAAR,CAAY,YAAMC,OAAlB,EACA,KAAKH,QAAL,CAAc,CACZN,MAAM,CAAE,YAAMS,OADF,CAAd,E,wNAOG,CACP,GAAI,KAAKZ,KAAL,CAAWE,QAAf,CAAyB,CACvB,mBACE,2BAAK,SAAS,CAAC,MAAf,EAEI,KAAKH,KAAL,CAAWK,MAAX,GAAsB,KAAKL,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBC,EAA9C,cAAmD,gDACjD,yCAAa,KAAKR,KAAL,CAAWc,QAAxB,KADiD,cAEjD,iMAFiD,CAAnD,cAKa,gDACT,2CAAe,KAAKb,KAAL,CAAWC,IAAX,CAAgBY,QAA/B,qBADS,cAEX,4IAFW,CAPjB,CAgBI,KAAKd,KAAL,CAAWK,MAAX,GAAsB,KAAKL,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBC,EAA9C,cAAmD,oBAAC,IAAD,EAAM,EAAE,CAAC,aAAT,eAAuB,kDAAvB,CAAnD,CAAiH,IAhBrH,cAmBE,2CACA,0BAAI,SAAS,CAAC,WAAd,aAAmC,KAAKP,KAAL,CAAWC,IAAX,CAAgBY,QAAnD,cADA,CAEE,KAAKb,KAAL,CAAWE,QAAX,CAAoBY,MAApB,CAA6B,CAA7B,CAAiC,KAAKd,KAAL,CAAWE,QAAX,CAAoBa,GAApB,CAAwB,SAACC,IAAD,CAAOC,GAAP,CAAe,CACxE,mBAAO,0BAAI,GAAG,CAAEA,GAAT,eAAc,oBAAC,IAAD,EAAM,EAAE,qBAAeD,IAAI,CAACE,GAApB,CAAR,eACnB,2BAAK,SAAS,CAAC,WAAf,eACE,gDADF,cAEE,6BAAIF,IAAI,CAACG,IAAT,CAFF,CADmB,CAAd,CAAP,CAMC,CAPgC,CAAjC,cAOK,0DATP,CAnBF,CADF,CAmCD,CApCD,IAoCO,CACL,mBACE,2BAAK,SAAS,CAAC,MAAf,eACE,oDADF,CADF,CAKD,CACF,C,mBAzEiBzB,S,EA4EpB,cAAeC,CAAAA,UAAU,CAACG,KAAD,CAAzB","sourcesContent":["import React, { Component } from 'react' \nimport { withRouter, Link } from 'react-router-dom'\nimport { getProjects } from '../../services/apiCalls'\n\nclass Index extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      user: null,\n      projects: null,\n      errMsg: ''\n    }\n  }\n\n  async componentDidMount() {\n    const userID = this.props.match.params.id\n    if (userID) {\n      try {\n        const response = await getProjects(userID)\n        this.setState({\n          user: response,\n          projects: response.projects \n        })\n      } catch (error) {\n        console.log(error.message)\n        this.setState({\n          errMsg: error.message \n        })\n      }\n    }\n  }\n\n  render() {\n    if (this.state.projects) {\n      return (\n        <div className=\"Page\"> \n          {\n            this.props.userID === this.props.match.params.id ? <section>\n              <p>Welcome, {this.props.username}!</p>\n              <p>\n                Here, you can add project sites that you are working on. Then go to these project sites and add journal entries. You can even add images to your journal entries!\n              </p>\n            </section> : <section>\n                <p>Welcome to {this.state.user.username}'s projects list!</p>\n              <p>\n                Here, you can see which projects this user is currently writing entries for and view them in the list below.\n              </p>\n            </section>\n          }\n\n          {\n            this.props.userID === this.props.match.params.id ? <Link to=\"/addProject\"><button>Add A Project</button></Link>: null \n          }\n          \n          <ul>\n          <li className=\"listTitle\">List Of {this.state.user.username}'s Project</li>\n          { this.state.projects.length > 0 ? this.state.projects.map((proj, ind) => {\n            return <li key={ind}><Link to={`/projects/${proj._id}`}>\n              <div className=\"toProject\">\n                <h3>Go to Project: </h3>\n                <p>{proj.name}</p>\n              </div>\n            </Link></li>\n            }) : <h3>You have no projects yet.</h3>\n            }\n          </ul>\n          \n        </div>\n      )\n    } else {\n      return (\n        <div className=\"Page\">\n          <h1>User Info not found</h1>\n        </div>\n      )\n    }\n  }\n}\n\nexport default withRouter(Index)\n\n"]},"metadata":{},"sourceType":"module"}