{"ast":null,"code":"var _jsxFileName = \"/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/User/Signup.jsx\";\nimport React, { Component } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { signup } from '../../services/apiUsers';\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = (e, stateName) => {\n      // sets e.target.value to whatever state is named\n      this.setState({\n        [stateName]: e.target.value\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault(); // submit using the username and password in the form \n      // only allow submit if password is length 6 or greater \n\n      if (this.state.inputPassword.length >= 6 && this.state.inputUsername) {\n        try {\n          const response = await signup({\n            username: this.state.inputUsername,\n            password: this.state.inputPassword\n          });\n          console.log(response); // if token is successfully received, set the user data \n\n          await this.props.setUser();\n          this.props.history.push('/');\n        } catch (error) {\n          console.log(error.message);\n          this.setState({\n            errMsg: error.message\n          });\n        }\n      } else {\n        this.setState({\n          errMsg: 'Password needs to be at least 6 characters.'\n        });\n      }\n    };\n\n    this.state = {\n      inputUsername: '',\n      inputPassword: '',\n      errMsg: ''\n    };\n  } // password needs at least 6 characters \n  // username and password each have a handleChange and are tied to the value of the input \n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"SignupForm\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }, \"Register An Account\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }, \" Passwords need to be at least 6 characters long! \"), this.state.errMsg ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 34\n      }\n    }, this.state.errMsg) : null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.inputUsername,\n      onChange: e => this.handleChange(e, 'inputUsername'),\n      name: \"uesrname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      value: this.state.inputPassword,\n      onChange: e => this.handleChange(e, 'inputPassword'),\n      name: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, \" Submit \")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, \"Have an account? Log in here\"))));\n  }\n\n}\n\nexport default withRouter(Signup);","map":{"version":3,"sources":["/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/User/Signup.jsx"],"names":["React","Component","withRouter","Link","signup","Signup","constructor","props","handleChange","e","stateName","setState","target","value","handleSubmit","preventDefault","state","inputPassword","length","inputUsername","response","username","password","console","log","setUser","history","push","error","message","errMsg","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport { signup } from '../../services/apiUsers'\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      inputUsername: '',\n      inputPassword: '',\n      errMsg: ''\n    }\n  }\n\n  // password needs at least 6 characters \n  // username and password each have a handleChange and are tied to the value of the input \n\n  handleChange = (e, stateName) => {\n    // sets e.target.value to whatever state is named\n    this.setState({\n      [stateName]: e.target.value \n    })\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n    // submit using the username and password in the form \n\n    // only allow submit if password is length 6 or greater \n    if (this.state.inputPassword.length >= 6 && this.state.inputUsername) {\n      try {\n        const response = await signup({\n          username: this.state.inputUsername,\n          password: this.state.inputPassword\n        })\n\n        console.log(response)\n\n        // if token is successfully received, set the user data \n        await this.props.setUser()\n\n        this.props.history.push('/')\n      } catch (error) {\n        console.log(error.message)\n        this.setState({\n          errMsg: error.message \n        })\n      }\n    } else {\n      this.setState({\n        errMsg: 'Password needs to be at least 6 characters.'\n      })\n    }\n  }\n\n  render() {\n    \n      return (\n        <div className=\"Page\">\n          <section>\n          <form className=\"SignupForm\" onSubmit={this.handleSubmit}>\n              <h1>Register An Account</h1>\n              <h4> Passwords need to be at least 6 characters long! </h4>\n            {this.state.errMsg ? <p className=\"error\">{this.state.errMsg}</p> : null}\n\n            <label htmlFor=\"username\">Username</label>\n            <input type=\"text\" value={this.state.inputUsername} onChange={e => this.handleChange(e, 'inputUsername')} name=\"uesrname\" />\n\n            <label htmlFor=\"password\">Password</label>\n            <input type=\"password\" value={this.state.inputPassword} onChange={e => this.handleChange(e, 'inputPassword')} name=\"password\" />\n\n            <button> Submit </button>\n          </form>\n          <p>\n            <Link to=\"/\">Have an account? Log in here</Link>\n          </p>\n          </section>\n        </div>\n      )\n    \n  }\n}\n\nexport default withRouter(Signup)\n"]},"metadata":{},"sourceType":"module"}