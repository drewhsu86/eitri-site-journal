{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter,Link}from'react-router-dom';import{getProject}from'../../services/apiCalls';var ViewProject=/*#__PURE__*/function(_Component){_inherits(ViewProject,_Component);var _super=_createSuper(ViewProject);function ViewProject(props){var _this;_classCallCheck(this,ViewProject);_this=_super.call(this,props);_this.state={project:null};return _this;}_createClass(ViewProject,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getProject(this.props.match.params.id);case 3:response=_context.sent;this.setState({project:response});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 10:case\"end\":return _context.stop();}}},_callee,this,[[0,7]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var project=this.state.project;if(!project){return/*#__PURE__*/React.createElement(\"div\",{className:\"Page\"},/*#__PURE__*/React.createElement(\"h1\",null,\"No Project Info Found\"));}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"Page\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Project Site: \",project.name),/*#__PURE__*/React.createElement(\"h4\",null,\"Location: \",project.location?project.location:'Not given'),project.description?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h4\",null,\"Description\"),/*#__PURE__*/React.createElement(\"section\",null,project.description)):null,/*#__PURE__*/React.createElement(Link,{to:\"/users/\".concat(project.user)},/*#__PURE__*/React.createElement(\"button\",null,\"Back To Projects List\")),this.props.userID===project.user?/*#__PURE__*/React.createElement(Link,{to:\"/projects/\".concat(this.props.match.params.id,\"/editproject\")},/*#__PURE__*/React.createElement(\"button\",null,\"Edit Project Info\")):null,this.props.userID===project.user?/*#__PURE__*/React.createElement(Link,{to:\"/projects/\".concat(this.props.match.params.id,\"/addentry\")},/*#__PURE__*/React.createElement(\"button\",null,\"Create An Entry\")):null,/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{className:\"listTitle\"},\"Entries For \",project.name,\" Site\"),project.entries.map(function(entry,ind){return/*#__PURE__*/React.createElement(\"li\",{key:ind},/*#__PURE__*/React.createElement(Link,{to:\"/entries/\".concat(entry._id)},/*#__PURE__*/React.createElement(\"div\",{className:\"toEntry\"},/*#__PURE__*/React.createElement(\"p\",null,entry.notes),/*#__PURE__*/React.createElement(\"p\",null,\"Created At: \",entry.createdAt.slice(0,10)))));})));}}}]);return ViewProject;}(Component);export default withRouter(ViewProject);","map":{"version":3,"sources":["/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/Projects/ViewProject.jsx"],"names":["React","Component","withRouter","Link","getProject","ViewProject","props","state","project","match","params","id","response","setState","console","log","message","name","location","description","user","userID","entries","map","entry","ind","_id","notes","createdAt","slice"],"mappings":"mhCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,CAAqBC,IAArB,KAAiC,kBAAjC,CACA,OAASC,UAAT,KAA2B,yBAA3B,C,GAEMC,CAAAA,W,0GACJ,qBAAYC,KAAZ,CAAmB,6CACjB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,OAAO,CAAE,IADE,CAAb,CAHiB,aAMlB,C,yUAI0BJ,CAAAA,UAAU,CAAC,KAAKE,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBC,EAAzB,C,QAA3BC,Q,eAEN,KAAKC,QAAL,CAAc,CACZL,OAAO,CAAEI,QADG,CAAd,E,+EAIAE,OAAO,CAACC,GAAR,CAAY,YAAMC,OAAlB,E,wNAIK,CACP,GAAMR,CAAAA,OAAO,CAAG,KAAKD,KAAL,CAAWC,OAA3B,CACA,GAAI,CAACA,OAAL,CAAc,CACZ,mBACE,2BAAK,SAAS,CAAC,MAAf,eACE,sDADF,CADF,CAKD,CAND,IAMO,CACL,mBACE,2BAAK,SAAS,CAAC,MAAf,eACE,+CAAmBA,OAAO,CAACS,IAA3B,CADF,cAGE,2CAAeT,OAAO,CAACU,QAAR,CAAmBV,OAAO,CAACU,QAA3B,CAAsC,WAArD,CAHF,CAKIV,OAAO,CAACW,WAAR,cAAsB,4CAAK,4CAAL,cAAyB,mCAAUX,OAAO,CAACW,WAAlB,CAAzB,CAAtB,CAAgG,IALpG,cAQE,oBAAC,IAAD,EAAM,EAAE,kBAAYX,OAAO,CAACY,IAApB,CAAR,eACE,0DADF,CARF,CAaE,KAAKd,KAAL,CAAWe,MAAX,GAAsBb,OAAO,CAACY,IAA9B,cACE,oBAAC,IAAD,EAAM,EAAE,qBAAe,KAAKd,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBC,EAAvC,gBAAR,eAAiE,sDAAjE,CADF,CAEM,IAfR,CAkBI,KAAKL,KAAL,CAAWe,MAAX,GAAsBb,OAAO,CAACY,IAA9B,cAAqC,oBAAC,IAAD,EAAM,EAAE,qBAAe,KAAKd,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBC,EAAvC,aAAR,eAA8D,oDAA9D,CAArC,CAA6I,IAlBjJ,cAoBE,2CACE,0BAAI,SAAS,CAAC,WAAd,iBAAuCH,OAAO,CAACS,IAA/C,SADF,CAGIT,OAAO,CAACc,OAAR,CAAgBC,GAAhB,CAAoB,SAACC,KAAD,CAAQC,GAAR,CAAgB,CAClC,mBAAQ,0BAAI,GAAG,CAAEA,GAAT,eACN,oBAAC,IAAD,EAAM,EAAE,oBAAcD,KAAK,CAACE,GAApB,CAAR,eACE,2BAAK,SAAS,CAAC,SAAf,eACE,6BAAIF,KAAK,CAACG,KAAV,CADF,cAEE,4CAAgBH,KAAK,CAACI,SAAN,CAAgBC,KAAhB,CAAsB,CAAtB,CAAyB,EAAzB,CAAhB,CAFF,CADF,CADM,CAAR,CAQD,CATD,CAHJ,CApBF,CADF,CAsCD,CACF,C,yBArEuB5B,S,EAwE1B,cAAeC,CAAAA,UAAU,CAACG,WAAD,CAAzB","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport { getProject } from '../../services/apiCalls'\n\nclass ViewProject extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      project: null \n    }\n  }\n\n  async componentDidMount() {\n    try {\n      const response = await getProject(this.props.match.params.id)\n\n      this.setState({\n        project: response \n      })\n    } catch (error) {\n      console.log(error.message)\n    }\n  }\n\n  render() {\n    const project = this.state.project \n    if (!project) {\n      return (\n        <div className=\"Page\">\n          <h1>No Project Info Found</h1>\n        </div>\n      )\n    } else {\n      return (\n        <div className=\"Page\">\n          <h1>Project Site: {project.name}</h1>\n  \n          <h4>Location: {project.location ? project.location : 'Not given'}</h4> \n          {\n            project.description ? <div><h4>Description</h4><section>{project.description}</section></div> : null  \n          }\n\n          <Link to={`/users/${project.user}`}>\n            <button>Back To Projects List</button>\n          </Link>\n\n          {\n          this.props.userID === project.user ? (\n            <Link to={`/projects/${this.props.match.params.id}/editproject`}><button>Edit Project Info</button></Link>\n            ) : null \n          }\n\n          { this.props.userID === project.user ? <Link to={`/projects/${this.props.match.params.id}/addentry`}><button>Create An Entry</button></Link> : null }\n\n          <ul>\n            <li className=\"listTitle\">Entries For {project.name} Site</li>\n            {\n              project.entries.map((entry, ind) => {\n                return (<li key={ind}>\n                  <Link to={`/entries/${entry._id}`}>\n                    <div className=\"toEntry\">\n                      <p>{entry.notes}</p>\n                      <p>Created At: {entry.createdAt.slice(0, 10)}</p>\n                    </div>\n                  </Link>\n                </li>)\n              })\n            }\n          </ul>\n        </div>\n      )\n    }\n  }\n}\n\nexport default withRouter(ViewProject)\n"]},"metadata":{},"sourceType":"module"}