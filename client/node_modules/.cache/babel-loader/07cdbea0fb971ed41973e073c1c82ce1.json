{"ast":null,"code":"var _jsxFileName = \"/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/User/Signin.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { signin } from '../../services/apiUsers';\nexport default class Signin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = (e, stateName) => {\n      // sets e.target.value to whatever state is named\n      this.setState({\n        [stateName]: e.target.value\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault(); // submit using the username and password in the form \n      // only allow submit if password is length 6 or greater \n\n      if (this.state.inputPassword.length >= 6 && this.state.inputUsername) {\n        try {\n          const response = await signin({\n            username: this.state.inputUsername,\n            password: this.state.inputPassword\n          });\n          console.log(response); // if token is successfully received, set the user data \n\n          await this.props.setUser();\n          this.setState({\n            username: '',\n            password: ''\n          });\n        } catch (error) {\n          console.log(error.message);\n          this.setState({\n            errMsg: error.message\n          });\n        }\n      } else {\n        this.setState({\n          errMsg: 'Password needs to be at least 6 characters.'\n        });\n      }\n    };\n\n    this.state = {\n      inputUsername: '',\n      inputPassword: '',\n      errMsg: ''\n    };\n  } // password needs at least 6 characters \n  // username and password each have a handleChange and are tied to the value of the input \n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"SignupForm\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, \"Log In With Your Account\"), this.state.errMsg ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 34\n      }\n    }, this.state.errMsg) : null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.inputUsername,\n      onChange: e => this.handleChange(e, 'inputUsername'),\n      name: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      value: this.state.inputPassword,\n      onChange: e => this.handleChange(e, 'inputPassword'),\n      name: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 18\n      }\n    }, \" Submit \"))), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, \"Don't have an account? Register here\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/User/Signin.jsx"],"names":["React","Component","Link","signin","Signin","constructor","props","handleChange","e","stateName","setState","target","value","handleSubmit","preventDefault","state","inputPassword","length","inputUsername","response","username","password","console","log","setUser","error","message","errMsg","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,MAAT,QAAuB,yBAAvB;AAEA,eAAe,MAAMC,MAAN,SAAqBH,SAArB,CAA+B;AAC5CI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAanBC,YAbmB,GAaJ,CAACC,CAAD,EAAIC,SAAJ,KAAkB;AAC/B;AACA,WAAKC,QAAL,CAAc;AACZ,SAACD,SAAD,GAAaD,CAAC,CAACG,MAAF,CAASC;AADV,OAAd;AAGD,KAlBkB;;AAAA,SAoBnBC,YApBmB,GAoBJ,MAAOL,CAAP,IAAa;AAC1BA,MAAAA,CAAC,CAACM,cAAF,GAD0B,CAE1B;AAEA;;AACA,UAAI,KAAKC,KAAL,CAAWC,aAAX,CAAyBC,MAAzB,IAAmC,CAAnC,IAAwC,KAAKF,KAAL,CAAWG,aAAvD,EAAsE;AACpE,YAAI;AACF,gBAAMC,QAAQ,GAAG,MAAMhB,MAAM,CAAC;AAC5BiB,YAAAA,QAAQ,EAAE,KAAKL,KAAL,CAAWG,aADO;AAE5BG,YAAAA,QAAQ,EAAE,KAAKN,KAAL,CAAWC;AAFO,WAAD,CAA7B;AAKAM,UAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EANE,CAQF;;AACA,gBAAM,KAAKb,KAAL,CAAWkB,OAAX,EAAN;AAEA,eAAKd,QAAL,CAAc;AACZU,YAAAA,QAAQ,EAAE,EADE;AAEZC,YAAAA,QAAQ,EAAE;AAFE,WAAd;AAID,SAfD,CAeE,OAAOI,KAAP,EAAc;AACdH,UAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACC,OAAlB;AACA,eAAKhB,QAAL,CAAc;AACZiB,YAAAA,MAAM,EAAEF,KAAK,CAACC;AADF,WAAd;AAGD;AACF,OAtBD,MAsBO;AACL,aAAKhB,QAAL,CAAc;AACZiB,UAAAA,MAAM,EAAE;AADI,SAAd;AAGD;AACF,KApDkB;;AAGjB,SAAKZ,KAAL,GAAa;AACXG,MAAAA,aAAa,EAAE,EADJ;AAEXF,MAAAA,aAAa,EAAE,EAFJ;AAGXW,MAAAA,MAAM,EAAE;AAHG,KAAb;AAKD,GAT2C,CAW5C;AACA;;;AA2CAC,EAAAA,MAAM,GAAG;AAEL,wBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAC,YAAhB;AAA6B,MAAA,QAAQ,EAAE,KAAKf,YAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,EAEG,KAAKE,KAAL,CAAWY,MAAX,gBAAoB;AAAG,MAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsB,KAAKZ,KAAL,CAAWY,MAAjC,CAApB,GAAmE,IAFtE,eAIE;AAAO,MAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAKE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,KAAK,EAAE,KAAKZ,KAAL,CAAWG,aAArC;AAAoD,MAAA,QAAQ,EAAEV,CAAC,IAAI,KAAKD,YAAL,CAAkBC,CAAlB,EAAqB,eAArB,CAAnE;AAA0G,MAAA,IAAI,EAAC,UAA/G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,eAOE;AAAO,MAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,eAQE;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,KAAK,EAAE,KAAKO,KAAL,CAAWC,aAAzC;AAAwD,MAAA,QAAQ,EAAER,CAAC,IAAI,KAAKD,YAAL,CAAkBC,CAAlB,EAAqB,eAArB,CAAvE;AAA8G,MAAA,IAAI,EAAC,UAAnH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAL,CAVF,CADF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CADF,CAbF,CADF;AAoBH;;AA7E2C","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { signin } from '../../services/apiUsers'\n\nexport default class Signin extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      inputUsername: '',\n      inputPassword: '',\n      errMsg: ''\n    }\n  }\n\n  // password needs at least 6 characters \n  // username and password each have a handleChange and are tied to the value of the input \n\n  handleChange = (e, stateName) => {\n    // sets e.target.value to whatever state is named\n    this.setState({\n      [stateName]: e.target.value \n    })\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n    // submit using the username and password in the form \n\n    // only allow submit if password is length 6 or greater \n    if (this.state.inputPassword.length >= 6 && this.state.inputUsername) {\n      try {\n        const response = await signin({\n          username: this.state.inputUsername,\n          password: this.state.inputPassword\n        })\n\n        console.log(response)\n\n        // if token is successfully received, set the user data \n        await this.props.setUser()\n\n        this.setState({\n          username: '',\n          password: ''\n        })\n      } catch (error) {\n        console.log(error.message)\n        this.setState({\n          errMsg: error.message \n        })\n      }\n    } else {\n      this.setState({\n        errMsg: 'Password needs to be at least 6 characters.'\n      })\n    }\n  }\n\n  render() {\n\n      return (\n        <div className=\"Signup\">\n          <form className=\"SignupForm\" onSubmit={this.handleSubmit}>\n            <h1>Log In With Your Account</h1>\n            {this.state.errMsg ? <p className=\"error\">{this.state.errMsg}</p> : null}\n\n            <label htmlFor=\"username\">Username</label>\n            <input type=\"text\" value={this.state.inputUsername} onChange={e => this.handleChange(e, 'inputUsername')} name=\"username\" />\n\n            <label htmlFor=\"password\">Password</label>\n            <input type=\"password\" value={this.state.inputPassword} onChange={e => this.handleChange(e, 'inputPassword')} name=\"password\" />\n\n            <div><button> Submit </button></div>\n          </form>\n          <p>\n            <Link to=\"/signup\">Don't have an account? Register here</Link>\n          </p>\n        </div>\n      )\n    \n  }\n}\n"]},"metadata":{},"sourceType":"module"}