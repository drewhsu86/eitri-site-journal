{"ast":null,"code":"var _jsxFileName = \"/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/Entries/EditEntry.jsx\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { getEntry, updateEntry } from '../../services/apiCalls';\n\nclass EditEntry extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = (e, stateName) => {\n      // sets e.target.value to whatever state is named\n      this.setState({\n        [stateName]: e.target.value\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n\n      if (!this.state.inputNotes) {\n        this.setState({\n          errMsg: 'Entry name is required!'\n        });\n      } else {\n        try {\n          const response = await updateEntry({\n            notes: this.state.inputNotes,\n            project: this.props.match.params.id\n          });\n          this.props.history.push(`/projects/${this.props.match.params.id}`);\n        } catch (error) {\n          console.log(error.message);\n          this.setState({\n            errMsg: error.message\n          });\n        }\n      }\n    };\n\n    this.state = {\n      inputNotes: '',\n      errMsg: ''\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const response = await getEntry(this.props.match.params.id);\n      this.setState({\n        inputNotes: response.notes\n      });\n    } catch (error) {\n      console.log(error.message);\n      this.setState({\n        errMsg: error.message\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, \"Write a note for this entry\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"UpdateForm\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"entryName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, \"Entry Notes\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      value: this.state.inputNotes,\n      onChange: e => this.handleChange(e, 'inputNotes'),\n      name: \"entryName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, \"Edit Entry\")));\n  }\n\n}\n\nexport default withRouter(EditEntry);","map":{"version":3,"sources":["/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/Entries/EditEntry.jsx"],"names":["React","Component","withRouter","getEntry","updateEntry","EditEntry","constructor","props","handleChange","e","stateName","setState","target","value","handleSubmit","preventDefault","state","inputNotes","errMsg","response","notes","project","match","params","id","history","push","error","console","log","message","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { getEntry, updateEntry } from '../../services/apiCalls'\n\nclass EditEntry extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      inputNotes: '',\n      errMsg: ''\n    }\n  }\n\n  async componentDidMount() {\n    try {\n      const response = await getEntry(this.props.match.params.id)\n      this.setState({\n        inputNotes: response.notes \n      })\n    } catch (error) {\n      console.log(error.message)\n      this.setState({\n        errMsg: error.message \n      })\n    }\n\n  }\n\n  handleChange = (e, stateName) => {\n    // sets e.target.value to whatever state is named\n    this.setState({\n      [stateName]: e.target.value \n    })\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n\n    if (!this.state.inputNotes) {\n      this.setState({\n        errMsg: 'Entry name is required!'\n      })\n    } else {\n      try {\n        const response = await updateEntry({\n          notes: this.state.inputNotes,\n          project: this.props.match.params.id \n        })\n\n        this.props.history.push(`/projects/${this.props.match.params.id}`)\n      } catch (error) {\n        console.log(error.message)\n        this.setState({\n          errMsg: error.message \n        })\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Page\">\n        <h1>Write a note for this entry</h1>\n        <form className=\"UpdateForm\" onSubmit={this.handleSubmit}>\n          <label htmlFor=\"entryName\">Entry Notes</label>\n          <textarea value={this.state.inputNotes} onChange={e => this.handleChange(e, 'inputNotes')} name=\"entryName\" />\n\n          <button>Edit Entry</button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(EditEntry)"]},"metadata":{},"sourceType":"module"}