{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bowserhsu/Documents/React/eitri-site-journal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter}from'react-router-dom';import{createProject}from'../../services/apiCalls';var AddProject=/*#__PURE__*/function(_Component){_inherits(AddProject,_Component);var _super=_createSuper(AddProject);function AddProject(props){var _this;_classCallCheck(this,AddProject);_this=_super.call(this,props);_this.handleChange=function(e,stateName){// sets e.target.value to whatever state is named\n_this.setState(_defineProperty({},stateName,e.target.value));};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(_this.state.inputName){_context.next=5;break;}_this.setState({errMsg:'Project name is required!'});_context.next=16;break;case 5:_context.prev=5;_context.next=8;return createProject({name:_this.state.inputName,location:_this.state.inputLocation,description:_this.state.inputDescription});case 8:response=_context.sent;_this.props.history.push('/');_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](5);console.log(_context.t0.message);_this.setState({errMsg:_context.t0.message});case 16:case\"end\":return _context.stop();}}},_callee,null,[[5,12]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={inputName:'',inputLocation:'',inputDescription:'',errMsg:''};return _this;}// name required, location and description not required \n_createClass(AddProject,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"Page\"},/*#__PURE__*/React.createElement(\"form\",{className:\"UpdateForm\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"projectName\"},\"Project Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:this.state.inputName,onChange:function onChange(e){return _this2.handleChange(e,'inputName');},name:\"projectName\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"location\"},\"Location\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:this.state.inputLocation,onChange:function onChange(e){return _this2.handleChange(e,'inputLocation');},name:\"location\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"description\"},\"Description\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:this.state.inputDescription,onChange:function onChange(e){return _this2.handleChange(e,'inputDescription');},name:\"description\"}),/*#__PURE__*/React.createElement(\"button\",null,\"Submit\")));}}]);return AddProject;}(Component);export default withRouter(AddProject);","map":{"version":3,"sources":["/Users/bowserhsu/Documents/React/eitri-site-journal/client/src/components/Projects/AddProject.jsx"],"names":["React","Component","withRouter","createProject","AddProject","props","handleChange","e","stateName","setState","target","value","handleSubmit","preventDefault","state","inputName","errMsg","name","location","inputLocation","description","inputDescription","response","history","push","console","log","message"],"mappings":"ssCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,aAAT,KAA8B,yBAA9B,C,GAEMC,CAAAA,U,wGACJ,oBAAYC,KAAZ,CAAmB,4CACjB,uBAAMA,KAAN,EADiB,MAanBC,YAbmB,CAaJ,SAACC,CAAD,CAAIC,SAAJ,CAAkB,CAC/B;AACA,MAAKC,QAAL,oBACGD,SADH,CACeD,CAAC,CAACG,MAAF,CAASC,KADxB,GAGD,CAlBkB,OAoBnBC,YApBmB,0FAoBJ,iBAAOL,CAAP,+HACbA,CAAC,CAACM,cAAF,GADa,GAGR,MAAKC,KAAL,CAAWC,SAHH,yBAIX,MAAKN,QAAL,CAAc,CACZO,MAAM,CAAE,2BADI,CAAd,EAJW,oEAScb,CAAAA,aAAa,CAAC,CACnCc,IAAI,CAAE,MAAKH,KAAL,CAAWC,SADkB,CAEnCG,QAAQ,CAAE,MAAKJ,KAAL,CAAWK,aAFc,CAGnCC,WAAW,CAAE,MAAKN,KAAL,CAAWO,gBAHW,CAAD,CAT3B,QASHC,QATG,eAeT,MAAKjB,KAAL,CAAWkB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EAfS,iFAiBTC,OAAO,CAACC,GAAR,CAAY,YAAMC,OAAlB,EACA,MAAKlB,QAAL,CAAc,CACZO,MAAM,CAAE,YAAMW,OADF,CAAd,EAlBS,qEApBI,+DAGjB,MAAKb,KAAL,CAAa,CACXC,SAAS,CAAE,EADA,CAEXI,aAAa,CAAE,EAFJ,CAGXE,gBAAgB,CAAE,EAHP,CAIXL,MAAM,CAAE,EAJG,CAAb,CAHiB,aASlB,CAED;8DAkCS,iBACP,mBACE,2BAAK,SAAS,CAAC,MAAf,eACE,4BAAM,SAAS,CAAC,YAAhB,CAA6B,QAAQ,CAAE,KAAKJ,YAA5C,eACE,6BAAO,OAAO,CAAC,aAAf,iBADF,cAEE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAE,KAAKE,KAAL,CAAWC,SAArC,CAAgD,QAAQ,CAAE,kBAAAR,CAAC,QAAI,CAAA,MAAI,CAACD,YAAL,CAAkBC,CAAlB,CAAqB,WAArB,CAAJ,EAA3D,CAAkG,IAAI,CAAC,aAAvG,EAFF,cAIE,6BAAO,OAAO,CAAC,UAAf,aAJF,cAKE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAE,KAAKO,KAAL,CAAWK,aAArC,CAAoD,QAAQ,CAAE,kBAAAZ,CAAC,QAAI,CAAA,MAAI,CAACD,YAAL,CAAkBC,CAAlB,CAAqB,eAArB,CAAJ,EAA/D,CAA0G,IAAI,CAAC,UAA/G,EALF,cAOE,6BAAO,OAAO,CAAC,aAAf,gBAPF,cAQE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAE,KAAKO,KAAL,CAAWO,gBAArC,CAAuD,QAAQ,CAAE,kBAAAd,CAAC,QAAI,CAAA,MAAI,CAACD,YAAL,CAAkBC,CAAlB,CAAqB,kBAArB,CAAJ,EAAlE,CAAgH,IAAI,CAAC,aAArH,EARF,cAUE,2CAVF,CADF,CADF,CAgBD,C,wBA/DsBN,S,EAkEzB,cAAeC,CAAAA,UAAU,CAACE,UAAD,CAAzB","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { createProject } from '../../services/apiCalls'\n\nclass AddProject extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      inputName: '',\n      inputLocation: '',\n      inputDescription: '',\n      errMsg: ''\n    }\n  }\n\n  // name required, location and description not required \n\n  handleChange = (e, stateName) => {\n    // sets e.target.value to whatever state is named\n    this.setState({\n      [stateName]: e.target.value \n    })\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n\n    if (!this.state.inputName) {\n      this.setState({\n        errMsg: 'Project name is required!'\n      })\n    } else {\n      try {\n        const response = await createProject({\n          name: this.state.inputName,\n          location: this.state.inputLocation,\n          description: this.state.inputDescription \n        })\n\n        this.props.history.push('/')\n      } catch (error) {\n        console.log(error.message)\n        this.setState({\n          errMsg: error.message \n        })\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Page\">\n        <form className=\"UpdateForm\" onSubmit={this.handleSubmit}>\n          <label htmlFor=\"projectName\">Project Name</label>\n          <input type=\"text\" value={this.state.inputName} onChange={e => this.handleChange(e, 'inputName')} name=\"projectName\" />\n\n          <label htmlFor=\"location\">Location</label>\n          <input type=\"text\" value={this.state.inputLocation} onChange={e => this.handleChange(e, 'inputLocation')} name=\"location\" />\n\n          <label htmlFor=\"description\">Description</label>\n          <input type=\"text\" value={this.state.inputDescription} onChange={e => this.handleChange(e, 'inputDescription')} name=\"description\" />\n\n          <button>Submit</button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(AddProject)"]},"metadata":{},"sourceType":"module"}